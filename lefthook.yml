pre-commit:
  parallel: true
  commands:
    generate-schema:
      run: bun run generate:schema
      stage_fixed: true

    sort-json:
      glob: "*.json"
      exclude: "package-lock.json|bun.lock"
      run: bun run ./src/cli.ts {staged_files}
      stage_fixed: true

    oxfmt:
      glob: "*.{js,jsx,ts,tsx,css,md}"
      run: bun x oxfmt {staged_files} --write
      stage_fixed: true

    oxlint:
      glob: "*.{js,jsx,ts,tsx}"
      run: bun x oxlint {staged_files} --fix
      stage_fixed: true

    typecheck:
      run: bun run typecheck
